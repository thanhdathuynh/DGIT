<!DOCTYPE html>
<html>
<head>
  <!--test-->  
    <title>DGIdb Search</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        select, input, button { font-size: 16px; margin: 5px 0; }
        pre { background: #f4f4f4; padding: 10px; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Gene-Drug Interaction Search</h1>

    {% if error %}
    <p class="error">{{ error }}</p>
    {% endif %}

    <form method="POST" action="/">
        <input type="text" name="query" placeholder="Enter gene or drug" required value="{{ request.form.get('query', '') }}">
        <select name="type" required>
            <option value="" disabled {% if not request.form.get('type') %}selected{% endif %}>Select type</option>
            <option value="gene" {% if request.form.get('type') == 'gene' %}selected{% endif %}>Gene</option>
            <option value="drug" {% if request.form.get('type') == 'drug' %}selected{% endif %}>Drug</option>
        </select>
        <button type="submit">Search</button>
    </form>

    {% if results %}
    <h2>Results</h2>
    <pre>{{ results | tojson(indent=2) }}</pre>
    {% endif %}
</body>
</html>